"use strict";var colorSeleccionado,form=document.querySelector("#container-form__form"),divColores=document.querySelector("#div-colores"),containerTareas=document.querySelector("#container-tareas"),containerError=document.querySelector("#container-error"),pError=document.querySelector("#container-error__parrafo"),date=new Date,arrayTareas=[],errores=[];divColores.addEventListener("click",(function(e){switch(e.preventDefault(),e.target.classList[1]){case"div1":colorSeleccionado="#008000",divColores.firstElementChild.classList.toggle("container-form__form__div-colores__html-div1--active"),divColores.children[1].classList.remove("container-form__form__div-colores__html-div2--active"),divColores.lastElementChild.classList.remove("container-form__form__div-colores__html-div3--active");break;case"div2":colorSeleccionado="#ff4500",divColores.children[1].classList.toggle("container-form__form__div-colores__html-div2--active"),divColores.firstElementChild.classList.remove("container-form__form__div-colores__html-div1--active"),divColores.lastElementChild.classList.remove("container-form__form__div-colores__html-div3--active");break;case"div3":colorSeleccionado="#ff0000",divColores.lastElementChild.classList.toggle("container-form__form__div-colores__html-div3--active"),divColores.firstElementChild.classList.remove("container-form__form__div-colores__html-div1--active"),divColores.children[1].classList.remove("container-form__form__div-colores__html-div2--active");break;case void 0:errores.push("Color de tarea indefinido");break;case null:errores.push("Color de tarea null");break;default:errores.push("Color de tarea requerido")}}));var compararFechas=function(e){var r=date.getFullYear(),a=(date.getMonth()+1).toString(),o=date.getDate().toString();if(a.length<=1&&(a="0".concat(a)),o.length<=1&&(o="0".concat(o)),e<"".concat(r,"-").concat(a,"-").concat(o))return!0},crearItem=function(e,r,a){var o={check:!1,name:e,date:r,bgcolor:a,estado:!1};return arrayTareas.push(o),o},mostarTareas=function(){containerTareas.innerHTML="",null===(arrayTareas=JSON.parse(localStorage.getItem("tareas")))?arrayTareas=[]:arrayTareas.forEach((function(e){e.estado?containerTareas.innerHTML+='<div class="container-tareas__item" style="background-color: '.concat(e.bgcolor,'">\n                                      <div class="container-tareas__item__div-span">\n                                        <span class="container-tareas__item__div-span__span" style="text-decoration: line-through">').concat(e.name,'</span>\n                                      </div>\n                                      <div class="container-tareas__item__div-date">\n                                        <label class="container-tareas__item__div-date__date">').concat(e.date,'</label>\n                                      </div>\n                                      <div class="container-tareas__item__div-modificar">\n                                        <label class="container-tareas__item__div-modificar__label-modificar">Ѵ</label>\n                                      </div>\n                                      <div class="container-tareas__item__div-borrar">\n                                        <label class="container-tareas__item__div-borrar__label-borrar">X</label>\n                                      </div>\n                                    </div>'):containerTareas.innerHTML+='<div class="container-tareas__item" style="background-color: '.concat(e.bgcolor,'">\n                                        <div class="container-tareas__item__div-span">\n                                          <span class="container-tareas__item__div-span__span">').concat(e.name,'</span>\n                                        </div>\n                                        <div class="container-tareas__item__div-date">\n                                          <label class="container-tareas__item__div-date__date">').concat(e.date,'</label>\n                                        </div>\n                                        <div class="container-tareas__item__div-modificar">\n                                          <label class="container-tareas__item__div-modificar__label-modificar">Ѵ</label>\n                                        </div>\n                                        <div class="container-tareas__item__div-borrar">\n                                          <label class="container-tareas__item__div-borrar__label-borrar">X</label>\n                                        </div>\n                                      </div>')}))},guardarLocasStorage=function(){localStorage.setItem("tareas",JSON.stringify(arrayTareas)),errores=[],pError.textContent="",colorSeleccionado="",divColores.firstElementChild.classList.remove("container-form__form__div-colores__html-div1--active"),divColores.children[1].classList.remove("container-form__form__div-colores__html-div2--active"),divColores.lastElementChild.classList.remove("container-form__form__div-colores__html-div3--active"),containerError.classList.remove("container-error-visible"),mostarTareas()},eliminarTareas=function(e){var r;arrayTareas.forEach((function(a,o){a.name===e?r=o:errores.push("No se encontro la tarea a eliminar")})),arrayTareas.splice(r,1),guardarLocasStorage()},modificarTareas=function(e){var r=arrayTareas.findIndex((function(r){return r.name===e}));!0===arrayTareas[r].estado?arrayTareas[r].estado=!1:arrayTareas[r].estado=!0,guardarLocasStorage()};form.input_item.focus(),form.addEventListener("submit",(function(e){if(e.preventDefault(),errores=[],""===form.input_item.value?(errores.push("Tarea descripción requerida"),form.input_item.focus()):form.input_item.value.length>60?(errores.push("De [1-60] caracteres, actuales ".concat(form.input_item.value.length)),form.input_item.focus()):null==colorSeleccionado||""===colorSeleccionado?(errores.push("Tarea color requerido"),divColores.firstElementChild.focus()):""===form.input_date.value?(errores.push("Tarea fecha requerida"),form.input_date.focus()):!0===compararFechas(form.input_date.value)&&(errores.push("Fecha menor a la actual"),form.input_date.focus()),errores.length>0)e.preventDefault(),containerError.classList.add("container-error-visible"),pError.textContent="",pError.innerHTML=errores.join(", ");else{var r=form.input_item.value;form.input_item.value="";var a=form.input_date.value;crearItem(r,a,colorSeleccionado),guardarLocasStorage()}})),document.addEventListener("DOMContentLoaded",mostarTareas),containerTareas.addEventListener("click",(function(e){if(e.preventDefault(),"X"===e.target.innerHTML){var r=e.path[2].childNodes[1].innerText.trim();eliminarTareas(r)}else if("Ѵ"===e.target.innerHTML){var a=e.path[2].childNodes[1].innerText.trim();modificarTareas(a)}}));